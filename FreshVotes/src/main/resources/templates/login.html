<!DOCTYPE html>
<html xmlns:th="https://thymeleaf.org">

<head>
<script th:replace="fragments/header :: headerElement">
	</script>
 <title>Freshvotes Login</title>
	
 <script type="text/javascript">
 	$(function() {
 		$("#createAccount").click( function() {
 			window.location.href = "/register";
 		});
 	});
 </script>
 
</head>

<body>
	<div class="container" style="margin-top: 2em">
		<div class="card">
			<div class="card-header">
				<h3>Please login</h3>
			</div>
			
			<div class="card-body">
				  <form action="" method="post">
					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
				
					<!-- use param.error assuming FormLoginConfigurer#failureUrl contains the query parameter error -->
					<div th:if="${param.error != null}" class="alert alert-danger" role="alert">
							Failed to login.
							<div th:if="${SPRING_SECURITY_LAST_EXCEPTION != null}">
		                  		Reason: <span th:value="${SPRING_SECURITY_LAST_EXCEPTION.message}"></span>
							</div>	
					</div>
					<!-- the configured LogoutConfigurer#logoutSuccessUrl is /login?logout and contains the query param logout -->
					<div th:if="${param.logout != null}">
						You have been logged out.
					</div>
					
					<div class="form-group row">
						<label for="username" class="col-12 col-sm-3 col-form-label">Username</label>
						<div class="col-12 col-sm-9">
								<input type="text" class="form-control" id="username" name="username" />
						</div>
					
					</div>
					
					<div class="form-group row">
						<label for="password" class="col-12 col-sm-3 col-form-label">Password</label> 
						<div class="col-12 col-sm-9">
								<input type="password" class="form-control" id="password" name="password" />
						</div>	
					</div>
					
					<div class="row">
						<div class="col-6">
							<button type="submit" class="btn btn-primary">Log in</button>
						</div>
						<div class="col-6">
							<button type="button" class="btn btn-primary float-right" id="createAccount" >Create Account</button>
						</div>
					</div>
					
				  </form>
				
			</div>
		</div>
	</div>
</body>

</html>